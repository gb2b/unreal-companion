# P2.5 ExpÃ©rience Ludique (Agent RÃ©actif, Suggestions)

## Status: ğŸŸ¡ EN COURS

## Objectif

ImplÃ©menter l'expÃ©rience ludique des workflows : agent rÃ©actif qui commente les rÃ©ponses, suggestions contextuelles, mÃ©moire visible, cÃ©lÃ©brations.

## PrÃ©requis

- [x] P2.4 - Workflows YAML dÃ©finis

## Composants CrÃ©Ã©s âœ…

### Input Components (`src/components/input/`)

- [x] `SpectrumSlider.tsx` - Jauge entre deux extrÃªmes (A â†” B)
- [x] `EmojiScale.tsx` - Ã‰chelle Ã©motionnelle avec Ã©mojis
- [x] `ChoiceCards.tsx` - Questions visuelles A/B
- [x] `AppreciationGauge.tsx` - Feedback par jauge (ğŸ‘â†’ğŸ”¥)
- [x] `index.ts` - Exports

### Quick Interactions (`src/components/quick/`)

- [x] `SpeedRound.tsx` - 5 mots en temps limitÃ©
- [x] `ThisOrThat.tsx` - Choix binaires rapides + presets
- [x] `WordAssociation.tsx` - Associations libres
- [x] `WildCard.tsx` - Questions crÃ©atives random + presets
- [x] `index.ts` - Exports

### Composants Existants (`src/components/workflow/`)

- [x] `SuggestionCards.tsx` - Suggestions cliquables
- [x] `QuickActions.tsx` - Actions rapides (Continue, Edit, etc.)

### Composants Restants Ã€ CrÃ©er

- [ ] `AgentReaction.tsx` - Affichage rÃ©actions agent
- [ ] `MilestoneCard.tsx` - CÃ©lÃ©brations Ã©tapes
- [ ] `MemoryCallback.tsx` - RÃ©fÃ©rences mÃ©moire visible
- [ ] `LLMExampleCard.tsx` - Exemples dynamiques LLM
- [ ] Tips (`DailyTip.tsx`, `TipFeedback.tsx`)

## Fichiers Ã  Modifier

- `web-ui/src/components/workflow/WorkflowChat.tsx` - Chat principal
- `web-ui/server/services/llm_service.py` - Service LLM

## Fichiers Ã  CrÃ©er

- `web-ui/src/components/workflow/AgentReaction.tsx` - Affichage rÃ©actions
- `web-ui/src/components/workflow/ContextualSuggestions.tsx` - Suggestions
- `web-ui/src/components/workflow/MilestoneCard.tsx` - CÃ©lÃ©brations
- `web-ui/src/components/workflow/MemoryCallback.tsx` - RÃ©fÃ©rences mÃ©moire
- `web-ui/src/components/workflow/LLMExampleCard.tsx` - Exemples dynamiques
- `web-ui/src/components/input/SpectrumSlider.tsx` - Jauge de prÃ©fÃ©rence Aâ†”B
- `web-ui/src/components/input/EmojiScale.tsx` - Ã‰chelle Ã©motionnelle
- `web-ui/src/components/input/ChoiceCards.tsx` - Questions "PlutÃ´t A ou B"
- `web-ui/src/components/input/AppreciationGauge.tsx` - Feedback par jauge
- `web-ui/src/components/quick/SpeedRound.tsx` - Speed Round (5 mots)
- `web-ui/src/components/quick/ThisOrThat.tsx` - Choix binaires rapides
- `web-ui/src/components/quick/WordAssociation.tsx` - Associations libres
- `web-ui/src/components/quick/WildCard.tsx` - Questions crÃ©atives random
- `web-ui/src/components/tips/DailyTip.tsx` - Affichage tip du jour
- `web-ui/src/components/tips/TipFeedback.tsx` - Feedback sur tips
- `web-ui/server/services/tips_service.py` - GÃ©nÃ©ration tips contextuels
- `web-ui/server/prompts/workflow_prompts.py` - Prompts pour rÃ©actions et exemples

## SpÃ©cifications

### Flux d'une Question

```
1. Afficher question (depuis workflow YAML ou gÃ©nÃ©rÃ©e par LLM)
        â†“
2. User rÃ©pond (texte, jauge, choix, etc.)
        â†“
3. LLM gÃ©nÃ¨re rÃ©action dynamique
   - Acknowledgment ("J'adore !")
   - Connection ("Ã‡a me rappelle X que tu as dit...")
   - Suggestions contextuelles
   - Exemples concrets basÃ©s sur la comprÃ©hension du projet
        â†“
4. Afficher rÃ©action + suggestions/exemples
        â†“
5. Question suivante (avec contexte enrichi)
```

### Types de Questions Interactives

Au-delÃ  du texte libre, proposer des modes de rÃ©ponse variÃ©s :

#### Jauges de PrÃ©fÃ©rence (Spectrum)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Entre ces deux extrÃªmes, oÃ¹ te situes-tu ?                â”‚
â”‚                                                             â”‚
â”‚  LinÃ©aire                                                   â”‚
â”‚  â—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â—‹  Non-linÃ©aire       â”‚
â”‚         â†‘                                                   â”‚
â”‚    [Tu es ici]                                              â”‚
â”‚                                                             â”‚
â”‚  "Un peu d'exploration libre, mais avec une trame"         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Ã‰chelles Ã‰motionnelles

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Quelle Ã©motion veux-tu que le joueur ressente             â”‚
â”‚  en explorant les ruines ?                                  â”‚
â”‚                                                             â”‚
â”‚     ğŸ˜°        ğŸ˜        ğŸ¤”        ğŸ˜®        ğŸ¤©              â”‚
â”‚  AnxiÃ©tÃ©   Calme   CuriositÃ©  Ã‰merveillement  Euphorie     â”‚
â”‚                       â–²                                     â”‚
â”‚                  [SÃ©lectionnÃ©]                              â”‚
â”‚                                                             â”‚
â”‚  ğŸ’¬ "Une curiositÃ© teintÃ©e de mystÃ¨re, j'aime Ã§a !"        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Questions "PlutÃ´t A ou B"

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Pour le combat, tu prÃ©fÃ¨res :                              â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  âš”ï¸ Action rapide â”‚  ou  â”‚  ğŸ§  Tactique lent â”‚          â”‚
â”‚  â”‚   (Dark Souls)    â”‚      â”‚   (XCOM)          â”‚          â”‚
â”‚  â”‚        â—          â”‚      â”‚                   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                             â”‚
â”‚  [Ou autre chose...]                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Jauge d'ApprÃ©ciation (Feedback)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Que penses-tu de cette proposition ?                       â”‚
â”‚                                                             â”‚
â”‚  "Un systÃ¨me de magie basÃ© sur la musique..."              â”‚
â”‚                                                             â”‚
â”‚     ğŸ‘   ğŸ˜   ğŸ‘   â¤ï¸   ğŸ”¥                                  â”‚
â”‚     Bof  Mouais OK   J'aime  J'ADORE                       â”‚
â”‚                        â–²                                    â”‚
â”‚                                                             â”‚
â”‚  [Commenter pourquoi...]  (optionnel)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Discussions RÃ©flexives

Le LLM ne fait pas que poser des questions - il engage une vraie rÃ©flexion :

```python
REFLECTIVE_DISCUSSION_PROMPT = """
Tu es {agent_name}, en pleine session de brainstorm avec l'utilisateur.

Ce n'est PAS un interrogatoire - c'est une discussion crÃ©ative.

Ton rÃ´le :
1. RÃ‰FLÃ‰CHIR Ã  voix haute ("Je me demande si...")
2. PROPOSER des pistes ("Et si on faisait...")
3. CHALLENGER gentiment ("Mais du coup, comment gÃ©rer...")
4. CONNECTER les idÃ©es ("Ã‡a rejoint ce que tu disais sur...")

Ã‰vite :
- Questions fermÃ©es oui/non
- Listes de choix standardisÃ©es
- RÃ©ponses gÃ©nÃ©riques

Contexte du projet jusqu'ici :
{project_understanding}

Continue la discussion naturellement.
"""
```

### Exemples Dynamiques du LLM

Au fur et Ã  mesure que le LLM comprend le projet, il propose des exemples concrets :

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¡ BasÃ© sur ce que tu m'as dit, voici comment je vois      â”‚
â”‚    ton systÃ¨me de progression :                             â”‚
â”‚                                                             â”‚
â”‚    "Le joueur commence dans le village de Kael.            â”‚
â”‚     Il apprend le mot 'OUVRIR' en observant un             â”‚
â”‚     marchand. Plus tard, il peut l'utiliser sur            â”‚
â”‚     une porte scellÃ©e dans les ruines..."                  â”‚
â”‚                                                             â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚    â”‚  Cet exemple te parle ?                 â”‚              â”‚
â”‚    â”‚                                         â”‚              â”‚
â”‚    â”‚  [ğŸ‘ Exactement Ã§a !]                  â”‚              â”‚
â”‚    â”‚  [ğŸ”„ Pas mal, mais...]                 â”‚              â”‚
â”‚    â”‚  [âŒ Pas du tout]                      â”‚              â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                             â”‚
â”‚    [Ou dÃ©cris ta propre vision...]                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Interface des Exemples

```tsx
interface LLMExample {
  context: string;        // Intro ("BasÃ© sur ce que tu m'as dit...")
  example: string;        // L'exemple narratif
  appreciation_options: AppreciationOption[];
  allow_freeform: boolean;
}

interface AppreciationOption {
  emoji: string;
  label: string;
  value: 'positive' | 'partial' | 'negative';
  followup?: string;  // Question de suivi si sÃ©lectionnÃ©
}

// Affichage
<LLMExampleCard
  example={example}
  onAppreciation={(value, comment?) => handleFeedback(value, comment)}
/>
```

### Prompt pour RÃ©actions

```python
REACTION_PROMPT = """
Tu es {agent_name}, un {agent_role} passionnÃ© qui aide Ã  concevoir un jeu.

Contexte du projet:
{project_context}

RÃ©ponses prÃ©cÃ©dentes de l'utilisateur:
{previous_responses}

L'utilisateur vient de rÃ©pondre Ã  la question "{question_prompt}":
"{user_response}"

GÃ©nÃ¨re une rÃ©action courte et engageante qui:
1. Montre que tu as Ã©coutÃ© (rÃ©fÃ¨re Ã  sa rÃ©ponse)
2. Fait un lien avec les rÃ©ponses prÃ©cÃ©dentes si pertinent
3. Propose 2-4 suggestions pour la prochaine question (si applicable)

Format de rÃ©ponse (JSON):
{
  "acknowledgment": "RÃ©action courte et enthousiaste",
  "connection": "Lien avec rÃ©ponse prÃ©cÃ©dente (ou null)",
  "suggestions": ["Suggestion 1", "Suggestion 2"],
  "expression": "excited|thinking|celebrating|neutral"
}
"""
```

### Interface RÃ©action

```tsx
interface AgentReaction {
  acknowledgment: string;
  connection: string | null;
  suggestions: string[];
  expression: 'excited' | 'thinking' | 'celebrating' | 'neutral';
}

// Affichage
<AgentReaction
  reaction={reaction}
  agent={currentAgent}
  onSuggestionClick={(suggestion) => setInputValue(suggestion)}
/>
```

### Suggestions Contextuelles

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¡ BasÃ© sur ta rÃ©ponse:             â”‚
â”‚                                     â”‚
â”‚ [Exploration mystÃ¨re]               â”‚
â”‚ [Puzzle narratif]                   â”‚
â”‚ [Aventure contemplative]            â”‚
â”‚ [Autre...]                          â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- Cliquables pour prÃ©-remplir l'input
- GÃ©nÃ©rÃ©es par le LLM en fonction du contexte
- "Autre..." ouvre un champ texte libre

### MÃ©moire Visible (Callbacks)

```tsx
// Quand le LLM fait rÃ©fÃ©rence Ã  une rÃ©ponse prÃ©cÃ©dente
<MemoryCallback
  reference={{
    question: "Tu parlais de...",
    response: "exploration",
    stepId: "genre"
  }}
  onHighlight={() => scrollToStep('genre')}
/>

// Affichage
<div className="memory-callback">
  <span className="icon">ğŸ’­</span>
  <span>"Tu mentionnais <mark>exploration</mark> tout Ã  l'heure..."</span>
  <button onClick={onHighlight}>Voir</button>
</div>
```

### Milestones & CÃ©lÃ©brations

```tsx
interface Milestone {
  name: string;
  celebration: string;
  unlocks?: string[];  // FonctionnalitÃ©s dÃ©bloquÃ©es
}

// Affichage aprÃ¨s une Ã©tape clÃ©
<MilestoneCard
  milestone={milestone}
  onContinue={goToNextStep}
/>

// Avec confettis/animation
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ğŸ‰ Vision DÃ©finie !       â”‚
â”‚                                     â”‚
â”‚  "Tu as posÃ© les bases de ton jeu   â”‚
â”‚   d'exploration mystÃ©rieux inspirÃ©  â”‚
â”‚   d'Outer Wilds. Excellent choix !" â”‚
â”‚                                     â”‚
â”‚  DÃ©bloquÃ©: AperÃ§u Pitch Deck       â”‚
â”‚                                     â”‚
â”‚         [Continuer â†’]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Indicateur de Progression

```
Pas une barre de progression ennuyeuse, mais:

"âœ¨ Vision dÃ©finie ! Plus que 2 Ã©tapes pour ton Game Brief"

Ou avec icÃ´nes d'Ã©tapes:
[âœ… Vision] â†’ [ğŸ”„ Genre] â†’ [â³ MÃ©caniques] â†’ [â³ RÃ©sumÃ©]
```

### Quick Interactions (Mode Rapide)

Des mini-exercices crÃ©atifs pour dÃ©bloquer des idÃ©es ou accÃ©lÃ©rer les dÃ©cisions :

#### Speed Round

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš¡ SPEED ROUND â€” 5 mots pour dÃ©crire ton jeu, GO !        â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  [         ] [         ] [         ]                â”‚   â”‚
â”‚  â”‚  [         ] [         ]                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â±ï¸ 0:15                                    [TerminÃ© !]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### This or That (Rafale)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš¡ THIS OR THAT â€” Clique vite, rÃ©flÃ©chis pas trop !       â”‚
â”‚                                                             â”‚
â”‚     Solo           vs           Multi                       â”‚
â”‚     [    â—    ]                 [        ]                  â”‚
â”‚                                                             â”‚
â”‚     RÃ©aliste       vs           StylisÃ©                     â”‚
â”‚     [        ]                  [    â—    ]                 â”‚
â”‚                                                             â”‚
â”‚     Histoire       vs           Gameplay                    â”‚
â”‚     [    â—    ]                 [        ]                  â”‚
â”‚                                                             â”‚
â”‚  3/10 â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Word Association

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’­ WORD ASSOCIATION                                        â”‚
â”‚                                                             â”‚
â”‚  L'agent dit un mot, tu rÃ©ponds le premier truc qui vient. â”‚
â”‚                                                             â”‚
â”‚  ğŸ² Maya: "Combat"                                         â”‚
â”‚                                                             â”‚
â”‚  Toi: [________________]                      [Envoyer]    â”‚
â”‚                                                             â”‚
â”‚  Historique:                                                â”‚
â”‚  â€¢ Exploration â†’ "MystÃ¨re" âœ“                               â”‚
â”‚  â€¢ Mort â†’ "Recommencer" âœ“                                  â”‚
â”‚  â€¢ Victoire â†’ "ComprÃ©hension" âœ“                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Wild Card (Question Random)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸƒ WILD CARD                                               â”‚
â”‚                                                             â”‚
â”‚  "Si ton jeu Ã©tait un plat, ce serait quoi ?"              â”‚
â”‚                                                             â”‚
â”‚  [Ta rÃ©ponse...]                                            â”‚
â”‚                                                             â”‚
â”‚  ğŸ’¡ Pas de bonne rÃ©ponse â€” c'est pour dÃ©clencher           â”‚
â”‚     des associations inattendues !                          â”‚
â”‚                                                             â”‚
â”‚  [RÃ©pondre]  [Autre question]  [Skip]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Tips & Conseils du Jour

L'agent partage des tips contextuels basÃ©s sur le projet :

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¡ TIP DU JOUR â€” par Maya                                  â”‚
â”‚                                                             â”‚
â”‚  "Tu travailles sur un jeu d'exploration ?                 â”‚
â”‚   Pense Ã  la 'RÃ¨gle des 3 CuriositÃ©s' :                    â”‚
â”‚   Ã€ chaque endroit, le joueur devrait voir                 â”‚
â”‚   au moins 3 choses qui l'intriguent."                     â”‚
â”‚                                                             â”‚
â”‚  ğŸ“š En savoir plus   [ğŸ‘ Utile]   [ğŸ‘ Pas pour moi]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Types de tips :**

| Type | DÃ©clencheur | Exemple |
| ---- | ----------- | ------- |
| **Contextuel** | BasÃ© sur le projet | "Pour un jeu narratif, pense Ã ..." |
| **Technique** | BasÃ© sur la plateforme | "Dans Unreal, tu peux utiliser..." |
| **Inspiration** | Random/Daily | "Outer Wilds a innovÃ© en..." |
| **Warning** | DÃ©tection de pattern | "Attention au scope creep !" |

**Configuration :**

```yaml
tips:
  frequency: daily  # daily | per_session | on_milestone
  categories:
    - game_design
    - technical
    - inspiration
    - warnings
  dismissed: []  # Tips dÃ©jÃ  vus/ignorÃ©s
```

## CritÃ¨res d'Acceptation

### RÃ©actions & Suggestions

- [ ] LLM gÃ©nÃ¨re des rÃ©actions Ã  chaque rÃ©ponse
- [ ] RÃ©actions affichÃ©es avec expression de l'agent
- [x] Suggestions contextuelles cliquables (`SuggestionCards.tsx` existe)
- [ ] RÃ©fÃ©rences aux rÃ©ponses prÃ©cÃ©dentes (mÃ©moire visible)

### Questions Interactives

- [x] Jauges de prÃ©fÃ©rence (spectrum A â†” B) - `SpectrumSlider.tsx`
- [x] Ã‰chelles Ã©motionnelles (emoji scale) - `EmojiScale.tsx`
- [x] Questions "PlutÃ´t A ou B" avec visuel - `ChoiceCards.tsx`
- [x] PossibilitÃ© de rÃ©pondre en texte libre sur toute question
- [x] Jauges d'apprÃ©ciation pour feedback - `AppreciationGauge.tsx`

### Discussions RÃ©flexives

- [ ] LLM propose des exemples concrets basÃ©s sur le contexte
- [ ] User peut noter les exemples (ğŸ‘/ğŸ”„/âŒ)
- [ ] LLM adapte ses exemples selon les feedbacks
- [ ] Discussion naturelle, pas interrogatoire

### Quick Interactions

- [x] Speed Round (5 mots en temps limitÃ©) - `SpeedRound.tsx`
- [x] This or That (sÃ©rie de choix binaires rapides) - `ThisOrThat.tsx`
- [x] Word Association (associations libres) - `WordAssociation.tsx`
- [x] Wild Card (questions crÃ©atives random) - `WildCard.tsx`
- [x] Timer optionnel (dÃ©sactivable)

### Tips & Conseils

- [ ] Tips contextuels basÃ©s sur le projet
- [ ] Tips techniques basÃ©s sur la plateforme
- [ ] Tips d'inspiration (random/daily)
- [ ] Warnings intelligents (scope creep, etc.)
- [ ] Feedback sur les tips (utile/pas utile)
- [ ] Historique des tips vus

### ExpÃ©rience Utilisateur

- [ ] Milestones avec cÃ©lÃ©brations (confettis optionnels)
- [ ] Indicateur de progression non-ennuyeux
- [ ] PersonnalitÃ© de l'agent visible dans les rÃ©actions
- [ ] Tests passent

## Tests Ã  Ã‰crire

### Unit Tests

```typescript
describe('AgentReaction', () => {
  it('should display acknowledgment');
  it('should show connection when present');
  it('should render suggestions as clickable chips');
  it('should show correct agent expression');
});

describe('ContextualSuggestions', () => {
  it('should call onClick with suggestion text');
  it('should show "Other" option');
});

describe('MilestoneCard', () => {
  it('should display celebration message');
  it('should show unlocked features');
  it('should trigger confetti animation');
});

describe('SpectrumSlider', () => {
  it('should render two extremes labels');
  it('should return value between 0-100');
  it('should show current position indicator');
  it('should allow freeform comment');
});

describe('EmojiScale', () => {
  it('should render all emotion options');
  it('should highlight selected emotion');
  it('should call onChange with emotion value');
});

describe('ChoiceCards', () => {
  it('should render A and B options with visuals');
  it('should show "Other" option');
  it('should highlight selected choice');
});

describe('AppreciationGauge', () => {
  it('should render appreciation levels');
  it('should allow optional comment');
  it('should call onFeedback with value and comment');
});

describe('LLMExampleCard', () => {
  it('should display example text');
  it('should render appreciation buttons');
  it('should show freeform input option');
});

// Quick Interactions
describe('SpeedRound', () => {
  it('should display timer when enabled');
  it('should collect N words');
  it('should allow early submit');
  it('should work without timer');
});

describe('ThisOrThat', () => {
  it('should display two options');
  it('should track selections');
  it('should show progress');
  it('should call onComplete with all choices');
});

describe('WordAssociation', () => {
  it('should display agent word');
  it('should collect user response');
  it('should show history');
  it('should allow skip');
});

describe('WildCard', () => {
  it('should display random question');
  it('should allow "autre question"');
  it('should allow skip');
});

// Tips
describe('DailyTip', () => {
  it('should display tip content');
  it('should show agent attribution');
  it('should render feedback buttons');
  it('should not show dismissed tips');
});

describe('TipFeedback', () => {
  it('should record useful/not useful');
  it('should update dismissed list');
});
```

### Integration Tests

```python
def test_reaction_generation():
    # VÃ©rifie que le LLM gÃ©nÃ¨re des rÃ©actions valides

def test_context_injection():
    # VÃ©rifie que les rÃ©ponses prÃ©cÃ©dentes sont injectÃ©es

def test_example_generation():
    # VÃ©rifie que le LLM gÃ©nÃ¨re des exemples pertinents

def test_example_adaptation():
    # VÃ©rifie que les exemples s'adaptent au feedback

def test_contextual_tip_generation():
    # VÃ©rifie que les tips sont pertinents au projet

def test_tip_frequency():
    # VÃ©rifie le respect de la frÃ©quence configurÃ©e

def test_tip_dismissal():
    # VÃ©rifie que les tips ignorÃ©s ne reviennent pas
```

## Notes

- Les rÃ©actions doivent Ãªtre courtes (1-2 phrases)
- L'expression de l'agent change selon le contexte
- Ã‰viter les rÃ©actions gÃ©nÃ©riques ("Super!", "Ok!") - personnaliser
- Les suggestions doivent Ãªtre pertinentes au contexte du projet
- PrÃ©voir un mode "rapide" sans rÃ©actions pour les users pressÃ©s
- Les jauges doivent toujours permettre une rÃ©ponse texte libre en alternative
- Le LLM doit varier ses exemples pour Ã©viter la rÃ©pÃ©tition
- Feedback utilisateur = donnÃ©e prÃ©cieuse pour affiner la comprÃ©hension
